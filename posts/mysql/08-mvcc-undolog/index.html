<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>MySQL教程(八)---MVCC与undolog -</title><meta name=Description content="MySQL MVCC与undolog简要分析"><meta property="og:title" content="MySQL教程(八)---MVCC与undolog"><meta property="og:description" content="MySQL MVCC与undolog简要分析"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.yudlk.com/posts/mysql/08-mvcc-undolog/"><meta property="og:image" content="https://blog.yudlk.com/img/jinx.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-10T22:00:00+00:00"><meta property="article:modified_time" content="2020-04-10T22:00:00+00:00"><meta property="og:site_name" content="qpt的个人博客"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.yudlk.com/img/jinx.png"><meta name=twitter:title content="MySQL教程(八)---MVCC与undolog"><meta name=twitter:description content="MySQL MVCC与undolog简要分析"><meta name=application-name content="面对疾风"><meta name=apple-mobile-web-app-title content="面对疾风"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.yudlk.com/posts/mysql/08-mvcc-undolog/><link rel=prev href=https://blog.yudlk.com/posts/mysql/07-binlog-redolog-undolog/><link rel=next href=https://blog.yudlk.com/posts/docker/02-install/><link rel=stylesheet href=/css/style.min.cf6878db51c51b2d04ae155284a4403dbee8db33e16c066f954c95279c271fcd.css integrity="sha256-z2h421HFGy0ErhVShKRAPb7o2zPhbAZvlUyVJ5wnH80="><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload="this.onload=null,this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload="this.onload=null,this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"MySQL教程(八)---MVCC与undolog","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.yudlk.com\/posts\/mysql\/08-mvcc-undolog\/"},"image":["https:\/\/blog.yudlk.com\/img\/jinx.png"],"genre":"posts","keywords":"MySQL","wordcount":2301,"url":"https:\/\/blog.yudlk.com\/posts\/mysql\/08-mvcc-undolog\/","datePublished":"2020-04-10T22:00:00+00:00","dateModified":"2020-04-10T22:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"qpt"},"description":"MySQL MVCC与undolog简要分析"}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title>面对疾风</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/ title=面对疾风>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/about/ title=关于>关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title>面对疾风</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title=面对疾风>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/about/ title=关于>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">MySQL教程(八)---MVCC与undolog</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/barrypt title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>qpt</a></span>&nbsp;<span class=post-category>included in <a href=/categories/mysql/><i class="far fa-folder fa-fw" aria-hidden=true></i>MySQL</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2020-04-10>2020-04-10</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2301 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-undolog>1. undolog</a><ul><li><a href=#1-内容>1. 内容</a></li><li><a href=#2-存储>2. 存储</a></li><li><a href=#3-并发事务数限制>3. 并发事务数限制</a></li></ul></li><li><a href=#2-mvcc>2. MVCC</a><ul><li><a href=#1-实现>1. 实现</a></li><li><a href=#2-回滚>2. 回滚</a></li><li><a href=#3-一致性读>3. 一致性读</a></li></ul></li><li><a href=#3-小结>3. 小结</a></li><li><a href=#4-参考>4. 参考</a></li></ul></nav></div></div><div class=content id=content><p>本文主要对 MySQL 的 MVCC 和 undolog 做了简要分析。包括 undolog 是如何做到回滚的，MVCC 一致性读又是如何实现的等等。</p><h2 id=1-undolog>1. undolog</h2><p>MySQL 中 undolog 是 MVCC 技术实现的重要组成部分，一致性读功能也需要用到 undolog。当然，更重要的一点就是用于回滚。如事务执行失败后，通过 undolog 进行回滚恢复到之前的状态。</p><h3 id=1-内容>1. 内容</h3><p>undolog 是一个链表结构。</p><p>每次对数据进行 INSERT、UPDATE（DELETE） 时，都会将<strong>旧数据</strong>存储到 undolog 中。然后在数据行中修改字段<code>DB_ROLL_PTR</code> 指向对应的 undolog，以便在需要时查询到之前的数据。</p><blockquote><p>可以认为当delete一条记录时，undo log中会记录一条对应的insert记录，反之亦然，当update一条记录时，它记录一条对应相反的update记录。</p></blockquote><h3 id=2-存储>2. 存储</h3><p>InnoDB 存储引擎对 undolog 的管理采用段的方式。</p><p>undolog records 存储于 undolog segment 中，undolog segment 又存储在 rollback segment 中，rollback segment 则存放在 undo tablespace 中（MySQL5.6之前是在 system tablespace）。</p><blockquote><p>如果是 临时表的 undolog 则会存放在 global temporary tablespace 中。</p></blockquote><p>另外，undo log也会产生 redo log，因为 undo log 也需要实现持久性保护。</p><blockquote><p>对于 INSERT 操作的 undolog，在事务提交后就可以删除了。因为这是第一个版本所以并不需要存储旧数据。</p><p>而对于 UPDATE（DELETE） 操作则提交后也不能删除（可能其他事务的一致性读还在用这个 undolog），需要存储直到没有与之关联的快照事务时才能删除。</p><p>其中 DELETE 操作会先打上删除标记，然后由 purge 线程来删除。</p></blockquote><h3 id=3-并发事务数限制>3. 并发事务数限制</h3><p>同时还有很重要的一点就是，<strong>一个 undolog segment 只能同时被一个事务使用</strong>。也就是说 InnoDB 存储引擎的并发事务数还会受到 undolog segment 数量限制。</p><p>那么 undolog segment 数量到底有多少呢？</p><p>公式如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=p>(</span><span class=n>innodb_page_size</span><span class=w> </span><span class=o>/</span><span class=w> </span><span class=mi>16</span><span class=p>)</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>innodb_rollback_segments</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>number</span><span class=w> </span><span class=n>of</span><span class=w> </span><span class=k>undo</span><span class=w> </span><span class=n>tablespaces</span><span class=w>
</span></span></span></code></pre></div><ul><li>1）<strong>undo tablespace</strong></li></ul><p>undo tablespace 默认是 2（MySQL8.0）,可以通过如下语法进行增删</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-mysql data-lang=mysql><span class=line><span class=cl><span class=c1># 增加 名字比较是 xxx.ibu
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>CREATE</span><span class=w> </span><span class=k>UNDO</span><span class=w> </span><span class=n>TABLESPACE</span><span class=w> </span><span class=n>tablespace_name</span><span class=w> </span><span class=k>ADD</span><span class=w> </span><span class=n>DATAFILE</span><span class=w> </span><span class=s1>&#39;file_name.ibu&#39;</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1># 删除（需要先设置为不活跃状态）
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>ALTER</span><span class=w> </span><span class=k>UNDO</span><span class=w> </span><span class=n>TABLESPACE</span><span class=w> </span><span class=n>tablespace_name</span><span class=w> </span><span class=kt>SET</span><span class=w> </span><span class=n>INACTIVE</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=k>DROP</span><span class=w> </span><span class=k>UNDO</span><span class=w> </span><span class=n>TABLESPACE</span><span class=w> </span><span class=n>tablespace_name</span><span class=p>;</span><span class=w>
</span></span></span></code></pre></div><ul><li>2）<strong>rollback segment</strong></li></ul><p>rollback segment 由参数<code>innodb_rollback_segments</code> 设置，每个 undo tablespace 最大支持 128 个 rollback segment。</p><ul><li>3）<strong>undolog segment</strong></li></ul><p>undolog segment 个数则由 InnoDB PageSize 决定，具体为 <code>pagesize / 16</code>,所以默认 pagesize 16K 能存储 1024 个undolog segment 。</p><blockquote><p>需要注意的是，执行 INSERT 操作会占用一个 undolog segment，如果同时还执行 UPDATE（UPDATE、DELETE）则还会占用一个。</p></blockquote><h2 id=2-mvcc>2. MVCC</h2><p>Multi-Version Concurrency Control 多版本并发控制。MVCC 是一种并发控制的方法，一般在数据库管理系统中，实现对数据库的并发访问；在编程语言中实现事务内存。</p><blockquote><p>通过存储多版本数据来减少并发控制中锁的使用，以提升性能，适合读多写少的场景。</p></blockquote><p>MySQL 中的 MVCC 是 InnoDB 存储引擎实现的。通过 MVCC 技术，InnoDB 存储引擎可以同时执行对同一记录的读操作和写操作，而不需要等写操作释放锁，极大增加并发性。</p><h3 id=1-实现>1. 实现</h3><p>InnoDB 存储引擎在数据的每一行中都增加了 3 个<strong>隐藏字段</strong>用于存储必要数据。</p><ul><li>1）<code>DB_TRX_ID</code> &ndash; 6 字节，记录最后<code>插入</code>或<code>更新</code>该行时的 事务 Id（<code>删除</code>操作在内部被看做 <code>更新</code>，内部只是更新了该记录的删除标志位）。</li><li>2）<code>DB_ROLL_PTR</code> &ndash;7字节，回滚指针，指向对应的 undolog ，用于撤销操作</li><li>3）<code>DB_ROW_ID</code> &ndash;6字节，主键Id，如果建表时显式指定了主键则不会出现该行。</li></ul><h3 id=2-回滚>2. 回滚</h3><p>对应 InnoDB 存储引擎来说用户操作只有以下两种情况：</p><ul><li>1）<strong>INSERT</strong>&ndash;插入一行数据，该行数据 <code>DB_TRX_ID</code> 的值就是插入这条数据的事务Id，<code>DB_ROLL_PTR</code>此时还是空的。</li><li>2）<strong>UPDATE</strong>&ndash;修改（删除）该行数据，<code>DB_TRX_ID</code> 则更新为当前事务Id，同时把修改之前的数据（只记录有更新的字段）写入到 undolog，<code>DB_ROLL_PTR</code>则指向 undolog 对应位置。</li></ul><p>回滚时通过字段<code>DB_ROLL_PTR</code>找到 undolog 中记录的旧数据回滚即可。</p><h3 id=3-一致性读>3. 一致性读</h3><p><strong>undolog 中记录了这么多个版本，查询时到底查哪个版本？</strong></p><p>在 InnoDB 中，开启一个新事务的时候，会创建一个<code> read_view（读视图）</code>，由<strong>查询时所有活跃（即未提交）事务的Id数组</strong>（将其中最小的记作 min_id）和<strong>当前已创建的最大事务Id</strong>（记作max_id）组成。</p><blockquote><p>需要注意的是：最大事务Id并不是活跃事务中Id最大的那个。</p><p>read_view是针对全表的，session级别的。例如在查询A表时会生成一个read_view，然后在同一个session中查询B表会使用前面生成的readview，不会针对B表生成新的。</p></blockquote><p>假设当前事务Id为 trx_id ，版本链比较规则如下：</p><ul><li>1）如果（trx_id&lt;min_id）&ndash; 表示这个版本事务已提交，数据可见</li><li>2）如果（min_id&lt;=trx_id&lt;=max_id）<ul><li>情况1：若 trx_id 不在数组中，表示这个版本是有已经提交的事务生成的（后续解释），数据可见。</li><li>情况2：如果trx_id不在id数组中，说明是由还未提交的事务生成的，数据不可见</li></ul></li><li>3）如果（max_id&lt;trx_id）&ndash; 表示这个版本是由将来（这里的将来是相对于当前事务来说的）启动的事务生成的，数据肯定不可见。</li></ul><p>对于情况二解释如下：</p><p>MySQL 中的事务 Id 是自增的数字，所以数字大小可以判断事务的开始先后，但是不能判断提交先后。所以情况二中如果不在活跃事务列表说明这个事务虽然是后创建的但是已经先提交了。</p><p><strong>所以查询时就根据这个规则，顺着版本链，把不可见的过滤掉，出现的第一个可见数据就是结果。</strong></p><p>具体源码看这里</p><blockquote><p><code>https://github.com/facebook/mysql-5.6/blob/42a5444d52f264682c7805bf8117dd884095c476/storage/innobase/include/read0read.h#L125</code></p></blockquote><h2 id=3-小结>3. 小结</h2><ul><li>1）InnoDB 存储引擎中，每次修改记录都会在 undolog 中存储旧数据。</li><li>2）MySQL 真正数据表中只存最新版本记录，同时除了第一次插入的时候，其他情况 roll_ptr 都会有值。</li><li>3）历史版本数据都在 undolog 中，所以可以根据 roll_ptr 字段在 undolog 中找到多个版本数据。</li><li>4）当 undolog 不会被用到时会被移除。</li></ul><h2 id=4-参考>4. 参考</h2><p><code>https://dev.mysql.com/doc/refman/8.0/en/innodb-multi-versioning.html</code></p><p><code>https://dev.mysql.com/doc/refman/8.0/en/innodb-undo-tablespaces.html</code></p><p><code>http://blog.sina.com.cn/s/blog_4673e603010111ty.html</code></p><p><code>https://blog.csdn.net/Waves___/article/details/105295060</code></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2020-04-10</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://blog.yudlk.com/posts/mysql/08-mvcc-undolog/ data-title=MySQL教程(八)---MVCC与undolog data-hashtags=MySQL><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://blog.yudlk.com/posts/mysql/08-mvcc-undolog/ data-hashtag=MySQL><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://blog.yudlk.com/posts/mysql/08-mvcc-undolog/ data-title=MySQL教程(八)---MVCC与undolog><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://blog.yudlk.com/posts/mysql/08-mvcc-undolog/ data-title=MySQL教程(八)---MVCC与undolog><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://blog.yudlk.com/posts/mysql/08-mvcc-undolog/ data-title=MySQL教程(八)---MVCC与undolog><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/mysql/>MySQL</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/mysql/07-binlog-redolog-undolog/ class=prev rel=prev title=MySQL教程(七)---redolog与binlog><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>MySQL教程(七)---redolog与binlog</a>
<a href=/posts/docker/02-install/ class=next rel=next title="Docker教程(二)---docker和docker-compose 快速安装">Docker教程(二)---docker和docker-compose 快速安装<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.100.2">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2018 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/barrypt target=_blank>qpt</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span><span class=icp-splitter>&nbsp;|&nbsp;</span><br class=icp-br><span class=icp><a rel="license external nofollow noopener noreffer" href=https://beian.miit.gov.cn/ target=_blank>渝ICP备20005680号-1</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.480e58b2c2a8605d406f34667e92ff8f1ae50cfee5b653bead570f004839a983.js integrity="sha256-SA5YssKoYF1AbzRmfpL/jxrlDP7ltlO+rVcPAEg5qYM="></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-FL23FNP7CM',{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-FL23FNP7CM" async></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4b7c98449a6edf8492a8f3404e6d06a0",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7693630257897132" crossorigin=anonymous></script></body></html>