<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>Git教程(二)---常用命令 -</title><meta name=Description content="Git基本使用和常用命令"><meta property="og:title" content="Git教程(二)---常用命令"><meta property="og:description" content="Git基本使用和常用命令"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.yudlk.com/posts/git/02-git-use-guide/"><meta property="og:image" content="https://blog.yudlk.com/img/jinx.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2018-08-06T12:00:00+00:00"><meta property="article:modified_time" content="2018-08-06T12:00:00+00:00"><meta property="og:site_name" content="qpt的个人博客"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.yudlk.com/img/jinx.png"><meta name=twitter:title content="Git教程(二)---常用命令"><meta name=twitter:description content="Git基本使用和常用命令"><meta name=application-name content="面对疾风"><meta name=apple-mobile-web-app-title content="面对疾风"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://blog.yudlk.com/posts/git/02-git-use-guide/><link rel=prev href=https://blog.yudlk.com/posts/git/01-git-ssh-key-set/><link rel=next href=https://blog.yudlk.com/posts/java/01-java-string/><link rel=stylesheet href=/css/style.min.cf6878db51c51b2d04ae155284a4403dbee8db33e16c066f954c95279c271fcd.css integrity="sha256-z2h421HFGy0ErhVShKRAPb7o2zPhbAZvlUyVJ5wnH80="><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload="this.onload=null,this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload="this.onload=null,this.rel='stylesheet'"><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"Git教程(二)---常用命令","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/blog.yudlk.com\/posts\/git\/02-git-use-guide\/"},"image":["https:\/\/blog.yudlk.com\/img\/jinx.png"],"genre":"posts","keywords":"Git","wordcount":4122,"url":"https:\/\/blog.yudlk.com\/posts\/git\/02-git-use-guide\/","datePublished":"2018-08-06T12:00:00+00:00","dateModified":"2018-08-06T12:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"qpt"},"description":"Git基本使用和常用命令"}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':'auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark')&&document.body.setAttribute('theme','dark')</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title>面对疾风</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/ title=面对疾风>文章 </a><a class=menu-item href=/tags/>标签 </a><a class=menu-item href=/categories/>分类 </a><a class=menu-item href=/about/ title=关于>关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title>面对疾风</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title=面对疾风>文章</a><a class=menu-item href=/tags/ title>标签</a><a class=menu-item href=/categories/ title>分类</a><a class=menu-item href=/about/ title=关于>关于</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Git教程(二)---常用命令</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/barrypt title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>qpt</a></span>&nbsp;<span class=post-category>included in <a href=/categories/git/><i class="far fa-folder fa-fw" aria-hidden=true></i>Git</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2018-08-06>2018-08-06</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;4122 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;9 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#1-简介>1. 简介</a><ul><li><a href=#11-git简介>1.1 Git简介</a></li><li><a href=#12-git工作区概念>1.2 Git工作区概念</a></li><li><a href=#13-工作流程>1.3 工作流程</a></li><li><a href=#14-文件的四种状态>1.4 文件的四种状态</a></li></ul></li><li><a href=#2-使用>2. 使用</a><ul><li><a href=#21-创建git仓库>2.1 创建git仓库</a></li><li><a href=#22-代码提交>2.2 代码提交</a></li></ul></li><li><a href=#3-进阶操作>3. 进阶操作</a><ul><li><a href=#31-分支操作>3.1 分支操作</a></li><li><a href=#32-其他操作>3.2 其他操作</a></li></ul></li><li><a href=#3-常用命令>3. 常用命令</a></li><li><a href=#4-参考>4. 参考</a></li></ul></nav></div></div><div class=content id=content><p>本文主要记录了Git常用的一些命令，和Git基本使用教学，包括了版本库的创建、代码提交、推送、拉取、版本回退、撤销等操作。</p><blockquote><p>更多文章欢迎访问我的个人博客&ndash;><a href=https://www.lixueduan.com/ target=_blank rel="noopener noreffer">幻境云图</a></p></blockquote><h2 id=1-简介>1. 简介</h2><h3 id=11-git简介>1.1 Git简介</h3><p><code>Git</code>(读音为/gɪt/。)是一个开源的分布式版本控制系统。</p><p>可以有效、高速地处理从很小到非常大的项目版本管理。<code>Git</code> 是 <code>Linus Torvalds</code> 为了帮助管理 <code>Linux</code> 内核开发而开发的一个开放源码的版本控制软件。</p><h3 id=12-git工作区概念>1.2 Git工作区概念</h3><p>Git本地有四个工作区域：</p><ul><li>工作目录(Working Directory)</li><li>暂存区(Stage/Index)</li><li>版本库(Repository或Commit History)</li><li>远程仓库(Remote Directory)</li></ul><p>文件在这四个区域之间的转换关系如下：</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://github.com/barrypt/blog/raw/master/images/git/git-work-tree.png data-srcset="https://github.com/barrypt/blog/raw/master/images/git/git-work-tree.png, https://github.com/barrypt/blog/raw/master/images/git/git-work-tree.png 1.5x, https://github.com/barrypt/blog/raw/master/images/git/git-work-tree.png 2x" data-sizes=auto alt=https://github.com/barrypt/blog/raw/master/images/git/git-work-tree.png title=https://github.com/barrypt/blog/raw/master/images/git/git-work-tree.png></p><ul><li><strong>Working Directory</strong>： 工作区，就是你平时存放项目代码的地方，大概就是一个文件夹。</li><li><strong>Index / Stage</strong>： 暂存区，用于临时存放你的改动，事实上它只是一个文件，保存即将提交到文件列表信息</li><li><strong>Repository</strong>： 仓库区（或版本库），就是安全存放数据的位置，这里面有你提交到所有版本的数据。其中HEAD指向最新放入仓库的版本</li><li><strong>Remote</strong>： 远程仓库，托管代码的服务器，可以简单的认为是你项目组中的一台电脑用于远程数据交换</li></ul><h3 id=13-工作流程>1.3 工作流程</h3><p>git的工作流程一般是这样的：</p><ul><li><ol><li>在工作目录中添加、修改文件；</li></ol></li><li><ol start=2><li>将需要进行版本管理的文件放入暂存区域；</li></ol></li><li><ol start=3><li>将暂存区域的文件提交到git仓库。</li></ol></li></ul><p>因此，git管理的文件有三种状态：<code>已修改(modified)</code>,<code>已暂存(staged)</code>,<code>已提交(committed)</code>。</p><h3 id=14-文件的四种状态>1.4 文件的四种状态</h3><p>版本控制就是对文件的版本控制，要对文件进行修改、提交等操作，首先要知道文件当前在什么状态，不然可能会提交了现在还不想提交的文件，或者要提交的文件没提交上。</p><p><code>Git</code>不关心文件两个版本之间的具体差别，而是关心文件的整体是否有改变，若文件被改变，在添加提交时就生成文件新版本的快照，而判断文件整体是否改变的方法就是用。</p><p>SHA-1算法计算文件的校验和。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://github.com/barrypt/blog/raw/master/images/git/git-file-status.png data-srcset="https://github.com/barrypt/blog/raw/master/images/git/git-file-status.png, https://github.com/barrypt/blog/raw/master/images/git/git-file-status.png 1.5x, https://github.com/barrypt/blog/raw/master/images/git/git-file-status.png 2x" data-sizes=auto alt=https://github.com/barrypt/blog/raw/master/images/git/git-file-status.png title=img></p><p><strong>Untracked:</strong> 未跟踪, 此文件在文件夹中, 但并没有加入到git库, 不参与版本控制. 通过git add 状态变为Staged。</p><p><strong>Unmodify:</strong> 文件已经入库, 未修改, 即版本库中的文件快照内容与文件夹中完全一致. 这种类型的文件有两种去处, 如果它被修改, 而变为Modified。如果使用git rm移出版本库, 则成为Untracked文件</p><p><strong>Modified:</strong> 文件已修改, 仅仅是修改, 并没有进行其他的操作. 这个文件也有两个去处, 通过git add可进入暂存staged状态, 使用git checkout 则丢弃修改过,返回到unmodify状态, 这个git checkout即从库中取出文件, 覆盖当前修改</p><p><strong>Staged:</strong> 暂存状态. 执行git commit则将修改同步到库中, 这时库中的文件和本地文件又变为一致, 文件为Unmodify状态. 执行git reset HEAD filename取消暂存,文件状态为Modified。</p><p>下面的图很好的解释了这四种状态的转变：</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://github.com/barrypt/blog/raw/master/images/git/git-status-change.png data-srcset="https://github.com/barrypt/blog/raw/master/images/git/git-status-change.png, https://github.com/barrypt/blog/raw/master/images/git/git-status-change.png 1.5x, https://github.com/barrypt/blog/raw/master/images/git/git-status-change.png 2x" data-sizes=auto alt=https://github.com/barrypt/blog/raw/master/images/git/git-status-change.png title=img></p><blockquote><p>新建文件后 &mdash;>Untracked</p><p>使用add命令将新建的文件加入到暂存区&mdash;>Staged</p><p>使用commit命令将暂存区的文件提交到本地仓库&mdash;>Unmodified</p><p>如果对Unmodified状态的文件进行修改&mdash;> modified</p><p>如果对Unmodified状态的文件进行remove操作&mdash;>Untracked</p></blockquote><h2 id=2-使用>2. 使用</h2><p>基本配置在上一章写了这里就略过了。</p><h3 id=21-创建git仓库>2.1 创建git仓库</h3><p>创建git仓库包含两种方式：</p><ul><li><ol><li>git init：本地创建后推送到远程服务器</li></ol></li><li><ol start=2><li>git clone：远程服务器创建后克隆到本地</li></ol></li></ul><p>效果都是一样的。</p><h4 id=git-init>git init</h4><p>用 <code>git init</code> 在目录中创建新的 Git 仓库。 你可以在任何时候、任何目录中这么做，完全是本地化的。</p><p>执行后会在当前文件夹中多出一个<code>.git</code>文件夹，Git相关信息都在里面。</p><blockquote><p>.git文件夹是隐藏的 如果看不到需要调整系统设置让其显示隐藏文件夹</p></blockquote><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ git init
</span></span><span class=line><span class=cl>Initialized empty Git repository in C:/Users/13452/Desktop/gitte/.git/
</span></span></code></pre></div><h4 id=git-clone>git clone</h4><p>当然，也可以在远程服务器上拉取代码，拷贝一个 Git 仓库到本地</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git clone <span class=o>[</span>url<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># 例如</span>
</span></span><span class=line><span class=cl>git@github.com:barrypt/daily-notes.git  
</span></span></code></pre></div><h3 id=22-代码提交>2.2 代码提交</h3><p>假如已经通过<code>git clone</code>从远程服务器上拉取了一下<code>git</code>仓库到本地了。</p><p>然后在本地进行了一些编辑，比如:新增了一个<code>test.txt</code>文件</p><h4 id=git-status>git status</h4><p>可以通过<code>git status</code> 查看当前文件的状态</p><p>由于是新增的文件，还未加入 git 追踪，所以当前<code>test.txt</code>为<code>Untracked</code>状态</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ git status
</span></span><span class=line><span class=cl>On branch master
</span></span><span class=line><span class=cl>No commits yet
</span></span><span class=line><span class=cl>Untracked files:
</span></span><span class=line><span class=cl>  <span class=o>(</span>use <span class=s2>&#34;git add &lt;file&gt;...&#34;</span> to include in what will be committed<span class=o>)</span>
</span></span><span class=line><span class=cl>        test.txt
</span></span><span class=line><span class=cl>nothing added to commit but untracked files present <span class=o>(</span>use <span class=s2>&#34;git add&#34;</span> to track<span class=o>)</span>
</span></span></code></pre></div><h4 id=git-add>git add</h4><p>在本地(<code>Working Directory</code>)将文件修改完成后使用<code>git add</code>命令可将该文件添加到暂存区 (<code>Index</code>)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 添加单个文件</span>
</span></span><span class=line><span class=cl>git add filename
</span></span><span class=line><span class=cl><span class=c1># 添加所有文件</span>
</span></span><span class=line><span class=cl>git add .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 将test.txt文件添加到Index</span>
</span></span><span class=line><span class=cl>git add test.txt   
</span></span></code></pre></div><h4 id=git-commit>git commit</h4><p>使用 <code>git add </code>命令是将已经更新的内容写入缓存区， 而执行<code>git commit</code>将缓存区内容提交到本地仓库中(<code>Repository</code>)。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 提交Index中的文件 执行后会进入写注释的界面</span>
</span></span><span class=line><span class=cl>git commit 
</span></span><span class=line><span class=cl><span class=c1># 提交时直接写注释</span>
</span></span><span class=line><span class=cl>git commit -m<span class=s2>&#34;注释&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 例如提交test.txt文件</span>
</span></span><span class=line><span class=cl>git commit -m<span class=s2>&#34;新增test.txt文件&#34;</span>
</span></span></code></pre></div><h4 id=git-push>git push</h4><p>在执行<code>git commit</code>将缓存区内容添加到本地仓库中后，可以使用<code>git push</code>将本地的修改推送到服务器上的远程仓库中，这样其他人就可以同步了。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git push <span class=o>[</span>主机名<span class=o>]</span> <span class=o>[</span>分支名<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># 推送到origin主机的master分支 其中origin是默认的主机名</span>
</span></span><span class=line><span class=cl>git push origin master  
</span></span></code></pre></div><h4 id=git-pull>git pull</h4><p>在其他人提交代码后，可以通过<code>git pull</code>命令拉取服务器代码到本地。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git pull <span class=o>[</span>主机名<span class=o>]</span> <span class=o>[</span>分支名<span class=o>]</span>
</span></span><span class=line><span class=cl><span class=c1># 拉取origin主机的master分支最新代码 其中默认的主机名是origin  </span>
</span></span><span class=line><span class=cl>git pull origin master 
</span></span><span class=line><span class=cl><span class=c1># 直接git pull 则会拉取当前分支最新代码</span>
</span></span></code></pre></div><h2 id=3-进阶操作>3. 进阶操作</h2><p>学会前面的几个操作基本就能满足日常的使用了(如果不出意外的话)。</p><h3 id=31-分支操作>3.1 分支操作</h3><p>创建项目后默认在<code>master</code>分支, 即主分支。</p><p><strong>应保证master分支代码永远是正确的，稳定的，可运行的</strong></p><p>所以正常开发是不会直接在<code>master</code>分支上修改的。</p><h4 id=创建分支>创建分支</h4><p>实际开发时一般会根据功能创建多个分支，或者每个开发者创建一个自己的分支。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 创建分支branchName</span>
</span></span><span class=line><span class=cl>git branch branchName 
</span></span><span class=line><span class=cl><span class=c1># 切换到分支branchName</span>
</span></span><span class=line><span class=cl>git checkout branchName
</span></span><span class=line><span class=cl><span class=c1># 创建并切换到分支branchName</span>
</span></span><span class=line><span class=cl>git checkout -b branchName
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 例如创建一个dev分支</span>
</span></span><span class=line><span class=cl>git branch dev
</span></span><span class=line><span class=cl>git checkout dev
</span></span><span class=line><span class=cl><span class=c1># 或者用下面这句 二者是等效的</span>
</span></span><span class=line><span class=cl>git checkout -b dev
</span></span></code></pre></div><h4 id=合并merge分支>合并(merge)分支</h4><p>在新建的分支开发完后需要进行合并，将新的功能代码合并搭到<code>master</code>分支，当然也可以合并到任意分支。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 会把branchName分支合并到`当前`分支</span>
</span></span><span class=line><span class=cl>git merge branchName
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 例如dev分支开发完成 合并到master分支</span>
</span></span><span class=line><span class=cl>git checkout master
</span></span><span class=line><span class=cl>gir merge dev
</span></span></code></pre></div><p>一般情况下并不会直接合并到master分支，而是先pull最新的master分支合并到自己的分支，然后没问题了在合并到master分支。</p><p>完整流程如下:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1>#1 创建功能分支</span>
</span></span><span class=line><span class=cl><span class=o>(</span>master<span class=o>)</span> git checkout -b feature
</span></span><span class=line><span class=cl><span class=c1>#2 功能迭代</span>
</span></span><span class=line><span class=cl><span class=o>(</span>feature<span class=o>)</span> git commit ...
</span></span><span class=line><span class=cl><span class=c1>#3 合并最新主分支代码</span>
</span></span><span class=line><span class=cl><span class=o>(</span>feature<span class=o>)</span> git checkout master
</span></span><span class=line><span class=cl><span class=o>(</span>master<span class=o>)</span> git pull
</span></span><span class=line><span class=cl><span class=o>(</span>master<span class=o>)</span> git checkout feature
</span></span><span class=line><span class=cl><span class=o>(</span>feature<span class=o>)</span> git merge master
</span></span><span class=line><span class=cl><span class=c1># 解决冲突(如果有的话)</span>
</span></span><span class=line><span class=cl><span class=c1>#4 review，修改代码 再次提交</span>
</span></span><span class=line><span class=cl><span class=o>(</span>feature<span class=o>)</span> git commit
</span></span><span class=line><span class=cl><span class=c1>#5 没问题后再次合并到主分支</span>
</span></span><span class=line><span class=cl><span class=o>(</span>feature<span class=o>)</span> git checkout master
</span></span><span class=line><span class=cl><span class=c1># --squash参数可加可不加 具体作用现在先不用管</span>
</span></span><span class=line><span class=cl><span class=o>(</span>master<span class=o>)</span> git merge feature --squash
</span></span><span class=line><span class=cl><span class=o>(</span>master<span class=o>)</span> git commit <span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1># 推送到远端，正常结束</span>
</span></span><span class=line><span class=cl><span class=o>(</span>master<span class=o>)</span> git push origin <span class=c1>#</span>
</span></span><span class=line><span class=cl><span class=c1>#6 如果上一步被拒绝，是因为master有更新的代码入库了，为了防止master上出现分线，需要重新执行第5步</span>
</span></span></code></pre></div><h4 id=删除分支>删除分支</h4><p>合并完成后即可删除开发时创建的分支。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 删除分支branchName d-&gt;delete</span>
</span></span><span class=line><span class=cl>git branch -d branchName
</span></span><span class=line><span class=cl><span class=c1># 例如删除前面的功能分支</span>
</span></span><span class=line><span class=cl>git branch -d feature
</span></span></code></pre></div><h3 id=32-其他操作>3.2 其他操作</h3><h4 id=git-diff>git diff</h4><p>执行<code>git diff</code>命令来查看文件与之前的区别。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 查看本地工作区和index区域的文件的区别</span>
</span></span><span class=line><span class=cl>git diff 
</span></span><span class=line><span class=cl><span class=c1># 查看Index区域与Repository区域的区别</span>
</span></span><span class=line><span class=cl>git diff --cached 
</span></span><span class=line><span class=cl><span class=c1># 查看所有文件与本地仓库的区别</span>
</span></span><span class=line><span class=cl>git diff HEAD
</span></span><span class=line><span class=cl><span class=c1># 只显示摘要而不是全部显示</span>
</span></span><span class=line><span class=cl>git diff --stat
</span></span></code></pre></div><h4 id=git-reset>git reset</h4><p>撤销命令，git中比较重要的命令之一了。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git reset <span class=o>[</span>恢复等级<span class=o>]</span> <span class=o>[</span>commitId<span class=o>]</span>
</span></span></code></pre></div><h5 id=softmixedhard>soft/mixed/hard</h5><p><code>git reset</code>有三个参数，可以看做是三个恢复等级。</p><p><code>git reset –soft</code> 仅仅将<code>commit</code>回退到了指定的提交 ，只修改<code>Repository</code>区域
<code>git reset –mixed </code>用指定的<code>commit</code>覆盖<code>Repository</code>区域和<code>Index区</code>，之前所有暂存的内容都变为未暂存的状态 (<code>默认为该参数</code>)</p><p><code>git reset –hard </code>使用指定的commit的内容覆盖<code>Repository</code>区域、<code>Index区</code>和<code>工作区</code>。(<strong>危险！！！ 此操作会丢弃工作区所做的修改！需谨慎！！！</strong>)</p><p>具体如图：</p><p><img class=lazyload src=/svg/loading.min.svg data-src=git-reset-info.png data-srcset="git-reset-info.png, git-reset-info.png 1.5x, git-reset-info.png 2x" data-sizes=auto alt=git-reset-info.png title=git-reset-info.png></p><h5 id=commidid>commidID</h5><p>表示将要恢复到哪个版本。有如下几种表示法</p><p><strong>HEAD</strong>:表示当前最新的一次提交,<code>(HEAD^)</code>表示倒数第二次提交,<code>(HEAD^^)</code>表示倒数第三次提交，倒数第100次提交则是<code>HEAD^^...^^^</code> 100个<code>^</code>,当然不会这么傻，还有另外一种写法<code>HEAD~100</code> 就是倒数第100次了。</p><p>当然还可以使用具体的<code>commitID</code>:</p><p>使用<code>git log</code>可以查看到提交历史，其中就包含了<code>commitID</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ git log 
</span></span><span class=line><span class=cl>////这个是最新的一次提交的commitId
</span></span><span class=line><span class=cl>commit 06f1cd144f57c38d6fdbed07616af8ed5d69a9ea<span class=o>(</span>HEAD -&gt; hexo, origin/hexo, origin/HEAD<span class=o>)</span>
</span></span><span class=line><span class=cl>Author: lillusory &lt;xueduanli@163.com&gt;
</span></span><span class=line><span class=cl>Date:   Sat Feb <span class=m>16</span> 17:51:18 <span class=m>2019</span> +0800
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    添加Git工作区概念详解
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>commit 8f8908ff3edbba0d24d7eee7682e09d002faee6f   //这个就是commitId
</span></span><span class=line><span class=cl>Author: lillusory &lt;xueduanli@163.com&gt;
</span></span><span class=line><span class=cl>Date:   Fri Feb <span class=m>15</span> 19:10:06 <span class=m>2019</span> +0800
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    fix建造者模式两种写法
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>commit 71a44acd12d427f694f554df1d2f26ad59df5978 //这个就是commitId
</span></span><span class=line><span class=cl>Author: lillusory &lt;xueduanli@163.com&gt;
</span></span><span class=line><span class=cl>Date:   Fri Feb <span class=m>15</span> 00:31:33 <span class=m>2019</span> +0800
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    fix 单例模式+Git 常用命令
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>commit 099675715979832baa107f9da080bfd38d3d63e0 //这个就是commitId
</span></span><span class=line><span class=cl>Author: lillusory &lt;xueduanli@163.com&gt;
</span></span><span class=line><span class=cl>Date:   Thu Feb <span class=m>14</span> 23:26:10 <span class=m>2019</span> +0800
</span></span></code></pre></div><p>所以<code>git reset</code>有多种写法</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>git reset HEAD   //Repository和Index恢复到最后一次提交的状态 不影响工作区
</span></span><span class=line><span class=cl>git reset HEAD test.txt //只恢复test.txt 文件
</span></span><span class=line><span class=cl>git reset --soft HEAD  //Repository恢复到最后一次提交的状态
</span></span><span class=line><span class=cl>git reset --hard HEAD  //Repository、Index和工作区都恢复到最后一次提交的状态 丢弃工作区所有内容
</span></span><span class=line><span class=cl>git reset 099675715979832baa107f9da080bfd38d3d63e0  //恢复到commitID版本 一般不用写完整的commitid 写前几位git就可以分辨出来了
</span></span></code></pre></div><h4 id=git-reflog>git reflog</h4><p>前面的<code>git reset</code>可以恢复到各个版本，但是若恢复到前面的版本了，那么在使用<code>git log</code>查看是就找不到后面的提交了，想要恢复到后面的版本时就可以使用<code>git reflog</code>查看，该命令可以看到所有的版本改动信息。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>$ git log
</span></span><span class=line><span class=cl>commit 86a08a6fbacffcf93f7b4dd94be4a21ca31682c4 <span class=o>(</span>HEAD -&gt; master<span class=o>)</span>
</span></span><span class=line><span class=cl>Author: lillusory &lt;xueduanli@163.com&gt;
</span></span><span class=line><span class=cl>Date:   Sat Feb <span class=m>16</span> 18:29:48 <span class=m>2019</span> +0800
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    新增test.txt
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>$ git reflog
</span></span><span class=line><span class=cl>86a08a6 HEAD@<span class=o>{</span>1<span class=o>}</span>: reset: moving to HEAD^
</span></span><span class=line><span class=cl>b9802c7 <span class=o>(</span>HEAD -&gt; master<span class=o>)</span> HEAD@<span class=o>{</span>2<span class=o>}</span>: commit: 添加内容1111
</span></span><span class=line><span class=cl>86a08a6 HEAD@<span class=o>{</span>3<span class=o>}</span>: commit <span class=o>(</span>initial<span class=o>)</span>: 新增test.txt
</span></span></code></pre></div><h2 id=3-常用命令>3. 常用命令</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl><span class=c1># 新建仓库</span>
</span></span><span class=line><span class=cl>git init
</span></span><span class=line><span class=cl>git clone <span class=o>[</span>url<span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 代码提交</span>
</span></span><span class=line><span class=cl>git add &lt;filename&gt;
</span></span><span class=line><span class=cl>git commit -m<span class=s2>&#34;注释&#34;</span>
</span></span><span class=line><span class=cl>git push 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 版本恢复</span>
</span></span><span class=line><span class=cl>git reset
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 代码拉取</span>
</span></span><span class=line><span class=cl>git pull
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 分支操作</span>
</span></span><span class=line><span class=cl>git branch &lt;branchName&gt;
</span></span><span class=line><span class=cl>git checkout &lt;branchName&gt;
</span></span><span class=line><span class=cl>git merge &lt;branchName&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 信息查看</span>
</span></span><span class=line><span class=cl>git status
</span></span><span class=line><span class=cl>git log
</span></span><span class=line><span class=cl>git reflog
</span></span><span class=line><span class=cl>git config -l
</span></span></code></pre></div><p>最后附上一张网上找到的<code>Git常用命令速查表</code></p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://github.com/barrypt/blog/raw/master/images/git/git-comand-fast-select.png data-srcset="https://github.com/barrypt/blog/raw/master/images/git/git-comand-fast-select.png, https://github.com/barrypt/blog/raw/master/images/git/git-comand-fast-select.png 1.5x, https://github.com/barrypt/blog/raw/master/images/git/git-comand-fast-select.png 2x" data-sizes=auto alt=https://github.com/barrypt/blog/raw/master/images/git/git-comand-fast-select.png title=https://github.com/barrypt/blog/raw/master/images/git/git-comand-fast-select.png></p><h2 id=4-参考>4. 参考</h2><p><code>http://www.runoob.com/git/git-basic-operations.html</code></p><p><code>https://www.cnblogs.com/qdhxhz/p/9757390.html</code></p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2018-08-06</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://blog.yudlk.com/posts/git/02-git-use-guide/ data-title=Git教程(二)---常用命令 data-hashtags=Git><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://blog.yudlk.com/posts/git/02-git-use-guide/ data-hashtag=Git><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=https://blog.yudlk.com/posts/git/02-git-use-guide/ data-title=Git教程(二)---常用命令><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://blog.yudlk.com/posts/git/02-git-use-guide/ data-title=Git教程(二)---常用命令><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on 微博" data-sharer=weibo data-url=https://blog.yudlk.com/posts/git/02-git-use-guide/ data-title=Git教程(二)---常用命令><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/git/>Git</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/git/01-git-ssh-key-set/ class=prev rel=prev title="Git教程(一)---配置及SSH key"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Git教程(一)---配置及SSH key</a>
<a href=/posts/java/01-java-string/ class=next rel=next title=String字符串详解>String字符串详解<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.100.2">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2018 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/barrypt target=_blank>qpt</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:50},comment:{},search:{highlightTag:"em",lunrIndexURL:"/index.json",maxResultLength:10,noResultsFound:"No results found",snippetLength:30,type:"lunr"}}</script><script type=text/javascript src=/js/theme.min.480e58b2c2a8605d406f34667e92ff8f1ae50cfee5b653bead570f004839a983.js integrity="sha256-SA5YssKoYF1AbzRmfpL/jxrlDP7ltlO+rVcPAEg5qYM="></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-FL23FNP7CM',{anonymize_ip:!0})</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-FL23FNP7CM" async></script><script>var _hmt=_hmt||[];(function(){var e,t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?4b7c98449a6edf8492a8f3404e6d06a0",e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e)})()</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7693630257897132" crossorigin=anonymous></script></body></html>